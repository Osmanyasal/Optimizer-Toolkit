\hypertarget{gantt__instrumentor_8hh_source}{}\doxysection{gantt\+\_\+instrumentor.\+hh}
\label{gantt__instrumentor_8hh_source}\index{gantt\_instrumentor.hh@{gantt\_instrumentor.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#ifndef OPTIMIZER\_TOOLKIT\_CORE\_\_SRC\_\_UTILS\_\_PROFILING\_\_BLOCK\_TIMING\_HH}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#define OPTIMIZER\_TOOLKIT\_CORE\_\_SRC\_\_UTILS\_\_PROFILING\_\_BLOCK\_TIMING\_HH}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include <profiling\_config.hh>}}
\DoxyCodeLine{00005 \textcolor{preprocessor}{\#include <logger.hh>}}
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#include <iomanip>}}
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{00013 \textcolor{preprocessor}{\#include <mutex>}}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015 \textcolor{keyword}{namespace }OPTKIT::utils}
\DoxyCodeLine{00016 \{}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018     \textcolor{keyword}{using} FloatingPointMicroseconds = std::chrono::duration<double, std::micro>;}
\DoxyCodeLine{00019 }
\DoxyCodeLine{\Hypertarget{gantt__instrumentor_8hh_source_l00020}\mbox{\hyperlink{structOPTKIT_1_1utils_1_1ProfileResult}{00020}}     \textcolor{keyword}{struct }\mbox{\hyperlink{structOPTKIT_1_1utils_1_1ProfileResult}{ProfileResult}}}
\DoxyCodeLine{00021     \{}
\DoxyCodeLine{00022         std::string Name;}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024         FloatingPointMicroseconds Start;}
\DoxyCodeLine{00025         std::chrono::microseconds ElapsedTime;}
\DoxyCodeLine{00026         std::thread::id ThreadID;}
\DoxyCodeLine{00027     \};}
\DoxyCodeLine{00028 }
\DoxyCodeLine{\Hypertarget{gantt__instrumentor_8hh_source_l00029}\mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentationSession}{00029}}     \textcolor{keyword}{struct }\mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentationSession}{InstrumentationSession}}}
\DoxyCodeLine{00030     \{}
\DoxyCodeLine{00031         std::string Name;}
\DoxyCodeLine{00032     \};}
\DoxyCodeLine{00033 }
\DoxyCodeLine{\Hypertarget{gantt__instrumentor_8hh_source_l00034}\mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{00034}}     \textcolor{keyword}{class }\mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}}}
\DoxyCodeLine{00035     \{}
\DoxyCodeLine{00036     \textcolor{keyword}{public}:}
\DoxyCodeLine{00037         \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}}(\textcolor{keyword}{const} \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00038         \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}}(\mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}} \&\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040         \textcolor{keywordtype}{void} BeginSession(\textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} std::string \&filepath = \textcolor{stringliteral}{"{}results.json"{}})}
\DoxyCodeLine{00041         \{}
\DoxyCodeLine{00042             std::lock\_guard<std::mutex> lock(m\_Mutex);}
\DoxyCodeLine{00043             \textcolor{keywordflow}{if} (m\_CurrentSession)}
\DoxyCodeLine{00044             \{}
\DoxyCodeLine{00045                 OPTKIT\_CORE\_ERROR(\textcolor{stringliteral}{"{}Instrumentor::BeginSession('\{0\}') when session '\{1\}' already open."{}}, name, m\_CurrentSession-\/>Name);}
\DoxyCodeLine{00046                 InternalEndSession();}
\DoxyCodeLine{00047             \}}
\DoxyCodeLine{00048             m\_OutputStream.open(filepath);}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050             \textcolor{keywordflow}{if} (m\_OutputStream.is\_open())}
\DoxyCodeLine{00051             \{}
\DoxyCodeLine{00052                 m\_CurrentSession = \textcolor{keyword}{new} \mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentationSession}{InstrumentationSession}}(\{name\});}
\DoxyCodeLine{00053                 WriteHeader();}
\DoxyCodeLine{00054             \}}
\DoxyCodeLine{00055             \textcolor{keywordflow}{else}}
\DoxyCodeLine{00056             \{}
\DoxyCodeLine{00057                 OPTKIT\_CORE\_ERROR(\textcolor{stringliteral}{"{}Instrumentor could not open results file '\{0\}'."{}}, filepath);}
\DoxyCodeLine{00058             \}}
\DoxyCodeLine{00059         \}}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061         \textcolor{keywordtype}{void} EndSession()}
\DoxyCodeLine{00062         \{}
\DoxyCodeLine{00063             std::lock\_guard<std::mutex> lock(m\_Mutex);}
\DoxyCodeLine{00064             InternalEndSession();}
\DoxyCodeLine{00065         \}}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067         \textcolor{keywordtype}{void} WriteProfile(\textcolor{keyword}{const} \mbox{\hyperlink{structOPTKIT_1_1utils_1_1ProfileResult}{ProfileResult}} \&result)}
\DoxyCodeLine{00068         \{}
\DoxyCodeLine{00069             std::stringstream \mbox{\hyperlink{classbasic__json}{json}};}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071             \mbox{\hyperlink{classbasic__json}{json}} << std::setprecision(3) << std::fixed;}
\DoxyCodeLine{00072             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{},\{"{}};}
\DoxyCodeLine{00073             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}cat\(\backslash\)"{}:\(\backslash\)"{}function\(\backslash\)"{},"{}};}
\DoxyCodeLine{00074             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}dur\(\backslash\)"{}:"{}} << (result.ElapsedTime.count()) << \textcolor{charliteral}{','};}
\DoxyCodeLine{00075             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}name\(\backslash\)"{}:\(\backslash\)"{}"{}} << result.Name << \textcolor{stringliteral}{"{}\(\backslash\)"{},"{}};}
\DoxyCodeLine{00076             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}ph\(\backslash\)"{}:\(\backslash\)"{}X\(\backslash\)"{},"{}};}
\DoxyCodeLine{00077             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}pid\(\backslash\)"{}:0,"{}};}
\DoxyCodeLine{00078             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}tid\(\backslash\)"{}:"{}} << result.ThreadID << \textcolor{stringliteral}{"{},"{}};}
\DoxyCodeLine{00079             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\(\backslash\)"{}ts\(\backslash\)"{}:"{}} << result.Start.count();}
\DoxyCodeLine{00080             \mbox{\hyperlink{classbasic__json}{json}} << \textcolor{stringliteral}{"{}\}"{}};}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082             std::lock\_guard<std::mutex> lock(m\_Mutex);}
\DoxyCodeLine{00083             \textcolor{keywordflow}{if} (m\_CurrentSession)}
\DoxyCodeLine{00084             \{}
\DoxyCodeLine{00085                 m\_OutputStream << \mbox{\hyperlink{classbasic__json}{json}}.str();}
\DoxyCodeLine{00086                 m\_OutputStream.flush();}
\DoxyCodeLine{00087             \}}
\DoxyCodeLine{00088         \}}
\DoxyCodeLine{00089 }
\DoxyCodeLine{00090         \textcolor{keyword}{static} \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}} \&Get()}
\DoxyCodeLine{00091         \{}
\DoxyCodeLine{00092             \textcolor{keyword}{static} \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}} instance;}
\DoxyCodeLine{00093             \textcolor{keywordflow}{return} instance;}
\DoxyCodeLine{00094         \}}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096     \textcolor{keyword}{private}:}
\DoxyCodeLine{00097         \mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}}()}
\DoxyCodeLine{00098             : m\_CurrentSession(\textcolor{keyword}{nullptr})}
\DoxyCodeLine{00099         \{}
\DoxyCodeLine{00100         \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102         \string~\mbox{\hyperlink{classOPTKIT_1_1utils_1_1Instrumentor}{Instrumentor}}()}
\DoxyCodeLine{00103         \{}
\DoxyCodeLine{00104             EndSession();}
\DoxyCodeLine{00105         \}}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107         \textcolor{keywordtype}{void} WriteHeader()}
\DoxyCodeLine{00108         \{}
\DoxyCodeLine{00109             m\_OutputStream << \textcolor{stringliteral}{"{}\{\(\backslash\)"{}otherData\(\backslash\)"{}: \{\},\(\backslash\)"{}traceEvents\(\backslash\)"{}:[\{\}"{}};}
\DoxyCodeLine{00110             m\_OutputStream.flush();}
\DoxyCodeLine{00111         \}}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113         \textcolor{keywordtype}{void} WriteFooter()}
\DoxyCodeLine{00114         \{}
\DoxyCodeLine{00115             m\_OutputStream << \textcolor{stringliteral}{"{}]\}"{}};}
\DoxyCodeLine{00116             m\_OutputStream.flush();}
\DoxyCodeLine{00117         \}}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119         \textcolor{comment}{// Note: you must already own lock on m\_Mutex before}}
\DoxyCodeLine{00120         \textcolor{comment}{// calling InternalEndSession()}}
\DoxyCodeLine{00121         \textcolor{keywordtype}{void} InternalEndSession()}
\DoxyCodeLine{00122         \{}
\DoxyCodeLine{00123             \textcolor{keywordflow}{if} (m\_CurrentSession)}
\DoxyCodeLine{00124             \{}
\DoxyCodeLine{00125                 WriteFooter();}
\DoxyCodeLine{00126                 m\_OutputStream.close();}
\DoxyCodeLine{00127                 \textcolor{keyword}{delete} m\_CurrentSession;}
\DoxyCodeLine{00128                 m\_CurrentSession = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00129             \}}
\DoxyCodeLine{00130         \}}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132     \textcolor{keyword}{private}:}
\DoxyCodeLine{00133         std::mutex m\_Mutex;}
\DoxyCodeLine{00134         \mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentationSession}{InstrumentationSession}} *m\_CurrentSession;}
\DoxyCodeLine{00135         std::ofstream m\_OutputStream;}
\DoxyCodeLine{00136     \};}
\DoxyCodeLine{00137 }
\DoxyCodeLine{\Hypertarget{gantt__instrumentor_8hh_source_l00138}\mbox{\hyperlink{classOPTKIT_1_1utils_1_1InstrumentationTimer}{00138}}     \textcolor{keyword}{class }\mbox{\hyperlink{classOPTKIT_1_1utils_1_1InstrumentationTimer}{InstrumentationTimer}}}
\DoxyCodeLine{00139     \{}
\DoxyCodeLine{00140     \textcolor{keyword}{public}:}
\DoxyCodeLine{00141         \mbox{\hyperlink{classOPTKIT_1_1utils_1_1InstrumentationTimer}{InstrumentationTimer}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name)}
\DoxyCodeLine{00142             : m\_Name(name), m\_Stopped(\textcolor{keyword}{false})}
\DoxyCodeLine{00143         \{}
\DoxyCodeLine{00144             m\_StartTimepoint = std::chrono::steady\_clock::now();}
\DoxyCodeLine{00145         \}}
\DoxyCodeLine{00146 }
\DoxyCodeLine{00147         \string~\mbox{\hyperlink{classOPTKIT_1_1utils_1_1InstrumentationTimer}{InstrumentationTimer}}()}
\DoxyCodeLine{00148         \{}
\DoxyCodeLine{00149             \textcolor{keywordflow}{if} (!m\_Stopped)}
\DoxyCodeLine{00150                 Stop();}
\DoxyCodeLine{00151         \}}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00153         \textcolor{keywordtype}{void} Stop()}
\DoxyCodeLine{00154         \{}
\DoxyCodeLine{00155             \textcolor{keyword}{auto} endTimepoint = std::chrono::steady\_clock::now();}
\DoxyCodeLine{00156             \textcolor{keyword}{auto} highResStart = FloatingPointMicroseconds\{m\_StartTimepoint.time\_since\_epoch()\};}
\DoxyCodeLine{00157             \textcolor{keyword}{auto} elapsedTime = std::chrono::time\_point\_cast<std::chrono::microseconds>(endTimepoint).time\_since\_epoch() -\/ std::chrono::time\_point\_cast<std::chrono::microseconds>(m\_StartTimepoint).time\_since\_epoch();}
\DoxyCodeLine{00158 }
\DoxyCodeLine{00159             Instrumentor::Get().WriteProfile(\{m\_Name, highResStart, elapsedTime, std::this\_thread::get\_id()\});}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161             m\_Stopped = \textcolor{keyword}{true};}
\DoxyCodeLine{00162         \}}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164     \textcolor{keyword}{private}:}
\DoxyCodeLine{00165         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *m\_Name;}
\DoxyCodeLine{00166         std::chrono::time\_point<std::chrono::steady\_clock> m\_StartTimepoint;}
\DoxyCodeLine{00167         \textcolor{keywordtype}{bool} m\_Stopped;}
\DoxyCodeLine{00168     \};}
\DoxyCodeLine{00169 }
\DoxyCodeLine{00170     \textcolor{keyword}{namespace }InstrumentorUtils}
\DoxyCodeLine{00171     \{}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173         \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N>}
\DoxyCodeLine{\Hypertarget{gantt__instrumentor_8hh_source_l00174}\mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentorUtils_1_1ChangeResult}{00174}}         \textcolor{keyword}{struct }\mbox{\hyperlink{structOPTKIT_1_1utils_1_1InstrumentorUtils_1_1ChangeResult}{ChangeResult}}}
\DoxyCodeLine{00175         \{}
\DoxyCodeLine{00176             \textcolor{keywordtype}{char} Data[N];}
\DoxyCodeLine{00177         \};}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179         \textcolor{comment}{// template <size\_t N, size\_t K>}}
\DoxyCodeLine{00180         \textcolor{comment}{// constexpr auto CleanupOutputString(const char(\&expr)[N], const char(\&remove)[K]) -\/> ChangeResult<N>}}
\DoxyCodeLine{00181         \textcolor{comment}{// \{}}
\DoxyCodeLine{00182         \textcolor{comment}{//  ChangeResult<N> result = \{\};}}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184         \textcolor{comment}{//  size\_t srcIndex = 0;}}
\DoxyCodeLine{00185         \textcolor{comment}{//  size\_t dstIndex = 0;}}
\DoxyCodeLine{00186         \textcolor{comment}{//  while (srcIndex < N)}}
\DoxyCodeLine{00187         \textcolor{comment}{//  \{}}
\DoxyCodeLine{00188         \textcolor{comment}{//      size\_t matchIndex = 0;}}
\DoxyCodeLine{00189         \textcolor{comment}{//      while (matchIndex < K -\/ 1 \&\& srcIndex + matchIndex < N -\/ 1 \&\& expr[srcIndex + matchIndex] == remove[matchIndex])}}
\DoxyCodeLine{00190         \textcolor{comment}{//          matchIndex++;}}
\DoxyCodeLine{00191         \textcolor{comment}{//      if (matchIndex == K -\/ 1)}}
\DoxyCodeLine{00192         \textcolor{comment}{//          srcIndex += matchIndex;}}
\DoxyCodeLine{00193         \textcolor{comment}{//      result.Data[dstIndex++] = expr[srcIndex] == '"{}' ? '\(\backslash\)'' : expr[srcIndex];}}
\DoxyCodeLine{00194         \textcolor{comment}{//      srcIndex++;}}
\DoxyCodeLine{00195         \textcolor{comment}{//  \}}}
\DoxyCodeLine{00196         \textcolor{comment}{//  return result;}}
\DoxyCodeLine{00197         \textcolor{comment}{// \}}}
\DoxyCodeLine{00198     \}}
\DoxyCodeLine{00199 \} \textcolor{comment}{// OPTKIT::utils}}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201 \textcolor{preprocessor}{\#if OPTKIT\_CORE\_PROFILE || OPTKIT\_PROFILE}}
\DoxyCodeLine{00202   \textcolor{comment}{// Resolve which function signature macro will be used. Note that this only}}
\DoxyCodeLine{00203 \textcolor{comment}{// is resolved when the (pre)compiler starts, so the syntax highlighting}}
\DoxyCodeLine{00204 \textcolor{comment}{// could mark the wrong one in your editor!}}
\DoxyCodeLine{00205 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || (defined(\_\_MWERKS\_\_) \&\& (\_\_MWERKS\_\_ >= 0x3000)) || (defined(\_\_ICC) \&\& (\_\_ICC >= 600)) || defined(\_\_ghs\_\_)}}
\DoxyCodeLine{00206 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_PRETTY\_FUNCTION\_\_}}
\DoxyCodeLine{00207 \textcolor{preprocessor}{\#elif defined(\_\_DMC\_\_) \&\& (\_\_DMC\_\_ >= 0x810)}}
\DoxyCodeLine{00208 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_PRETTY\_FUNCTION\_\_}}
\DoxyCodeLine{00209 \textcolor{preprocessor}{\#elif (defined(\_\_FUNCSIG\_\_) || (\_MSC\_VER))}}
\DoxyCodeLine{00210 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_FUNCSIG\_\_}}
\DoxyCodeLine{00211 \textcolor{preprocessor}{\#elif (defined(\_\_INTEL\_COMPILER) \&\& (\_\_INTEL\_COMPILER >= 600)) || (defined(\_\_IBMCPP\_\_) \&\& (\_\_IBMCPP\_\_ >= 500))}}
\DoxyCodeLine{00212 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_FUNCTION\_\_}}
\DoxyCodeLine{00213 \textcolor{preprocessor}{\#elif defined(\_\_BORLANDC\_\_) \&\& (\_\_BORLANDC\_\_ >= 0x550)}}
\DoxyCodeLine{00214 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_FUNC\_\_}}
\DoxyCodeLine{00215 \textcolor{preprocessor}{\#elif defined(\_\_STDC\_VERSION\_\_) \&\& (\_\_STDC\_VERSION\_\_ >= 199901)}}
\DoxyCodeLine{00216 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_func\_\_}}
\DoxyCodeLine{00217 \textcolor{preprocessor}{\#elif defined(\_\_cplusplus) \&\& (\_\_cplusplus >= 201103)}}
\DoxyCodeLine{00218 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG \_\_func\_\_}}
\DoxyCodeLine{00219 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00220 \textcolor{preprocessor}{\#define OPTKIT\_FUNC\_SIG "{}OPTKIT\_FUNC\_SIG unknown!"{}}}
\DoxyCodeLine{00221 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00222 }
\DoxyCodeLine{00223 \textcolor{preprocessor}{\#if OPTKIT\_CORE\_PROFILE}}
\DoxyCodeLine{00224 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_BEGIN\_SESSION(name, filepath) OPTKIT::utils::Instrumentor::Get().BeginSession(name, filepath)}}
\DoxyCodeLine{00225 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_END\_SESSION() OPTKIT::utils::Instrumentor::Get().EndSession()}}
\DoxyCodeLine{00226 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_SCOPE\_LINE2(name, line) OPTKIT::utils::InstrumentationTimer timer\#\#line(name)}}
\DoxyCodeLine{00227 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_SCOPE\_LINE(name, line) OPTKIT\_PROFILE\_SCOPE\_LINE2(name, line)}}
\DoxyCodeLine{00228 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_SCOPE(name) OPTKIT\_PROFILE\_SCOPE\_LINE(name, \_\_LINE\_\_)}}
\DoxyCodeLine{00229 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_FUNCTION() OPTKIT\_PROFILE\_SCOPE(OPTKIT\_FUNC\_SIG)}}
\DoxyCodeLine{00230  }
\DoxyCodeLine{00231 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00232 }
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234 \textcolor{preprocessor}{\#if OPTKIT\_PROFILE}}
\DoxyCodeLine{00235 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_BEGIN\_SESSION(name, filepath) OPTKIT::utils::Instrumentor::Get().BeginSession(name, filepath)}}
\DoxyCodeLine{00236 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_END\_SESSION() OPTKIT::utils::Instrumentor::Get().EndSession()}}
\DoxyCodeLine{00237 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_SCOPE\_LINE2(name, line) OPTKIT::utils::InstrumentationTimer timer\#\#line(name)}}
\DoxyCodeLine{00238 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_SCOPE\_LINE(name, line) OPTKIT\_PROFILE\_SCOPE\_LINE2(name, line)}}
\DoxyCodeLine{00239 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_SCOPE(name) OPTKIT\_PROFILE\_SCOPE\_LINE(name, \_\_LINE\_\_)}}
\DoxyCodeLine{00240 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_FUNCTION() OPTKIT\_PROFILE\_SCOPE(OPTKIT\_FUNC\_SIG)  }}
\DoxyCodeLine{00241 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00242 }
\DoxyCodeLine{00243 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00244 }
\DoxyCodeLine{00245 }
\DoxyCodeLine{00246 \textcolor{preprocessor}{\#if !OPTKIT\_PROFILE}}
\DoxyCodeLine{00247 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_BEGIN\_SESSION(name, filepath)}}
\DoxyCodeLine{00248 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_END\_SESSION()}}
\DoxyCodeLine{00249 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_SCOPE(name)}}
\DoxyCodeLine{00250 \textcolor{preprocessor}{    \#define OPTKIT\_PROFILE\_FUNCTION()}}
\DoxyCodeLine{00251 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00252 }
\DoxyCodeLine{00253 \textcolor{preprocessor}{\#if !OPTKIT\_CORE\_PROFILE}}
\DoxyCodeLine{00254 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_BEGIN\_SESSION(name, filepath)}}
\DoxyCodeLine{00255 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_END\_SESSION()}}
\DoxyCodeLine{00256 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_SCOPE(name)}}
\DoxyCodeLine{00257 \textcolor{preprocessor}{    \#define OPTKIT\_CORE\_PROFILE\_FUNCTION()}}
\DoxyCodeLine{00258 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00259 }
\DoxyCodeLine{00260 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// end}}

\end{DoxyCode}
