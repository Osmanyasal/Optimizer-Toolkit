\hypertarget{block__profiler_8hh_source}{}\doxysection{block\+\_\+profiler.\+hh}
\label{block__profiler_8hh_source}\index{block\_profiler.hh@{block\_profiler.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{preprocessor}{\#ifndef OPTIMIZER\_TOOLKIT\_CORE\_\_SRC\_\_CORE\_\_PROFILING\_\_BLOCK\_PROFILER}}
\DoxyCodeLine{00002 \textcolor{preprocessor}{\#define OPTIMIZER\_TOOLKIT\_CORE\_\_SRC\_\_CORE\_\_PROFILING\_\_BLOCK\_PROFILER}}
\DoxyCodeLine{00003 }
\DoxyCodeLine{00004 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{00005 \textcolor{preprocessor}{\#include <linux/perf\_event.h>}}
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include <perfmon/pfmlib.h>}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#include <sys/ioctl.h>}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#include <asm/unistd.h>}}
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include <sys/syscall.h>}}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{00013 \textcolor{preprocessor}{\#include <sys/wait.h>}}
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#include <initializer\_list>}}
\DoxyCodeLine{00015 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{00016 \textcolor{preprocessor}{\#include <utils.hh>}}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{keyword}{namespace }optkit::core}
\DoxyCodeLine{00019 \{}
\DoxyCodeLine{\Hypertarget{block__profiler_8hh_source_l00031}\mbox{\hyperlink{classoptkit_1_1core_1_1BlockProfiler}{00031}}     \textcolor{keyword}{class }\mbox{\hyperlink{classoptkit_1_1core_1_1BlockProfiler}{BlockProfiler}} }
\DoxyCodeLine{00032     \{}
\DoxyCodeLine{00033     \textcolor{keyword}{public}:}
\DoxyCodeLine{00034         \mbox{\hyperlink{classoptkit_1_1core_1_1BlockProfiler}{BlockProfiler}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *block\_name, std::initializer\_list<uint64\_t> raw\_event\_list);}
\DoxyCodeLine{00035         \textcolor{keyword}{virtual} \string~\mbox{\hyperlink{classoptkit_1_1core_1_1BlockProfiler}{BlockProfiler}}();}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} disable();}
\DoxyCodeLine{00038         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} enable();}
\DoxyCodeLine{00039         \textcolor{keyword}{virtual} std::vector<uint64\_t> read\_counter();}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041     \textcolor{keyword}{public}:}
\DoxyCodeLine{00042         std::vector<int> fd\_list;}
\DoxyCodeLine{00043         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *block\_name;}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045     \textcolor{keyword}{private}:}
\DoxyCodeLine{00046         \textcolor{keyword}{static} std::vector<int> fd\_stack;}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048         std::chrono::high\_resolution\_clock::time\_point start;}
\DoxyCodeLine{00049     \};}
\DoxyCodeLine{00050 \} \textcolor{comment}{// namespace optkit::core}}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
